{% extends "layout.html" %}
{%  block style %}
    <link href="{{ url_for('static', filename='main.css') }}" rel='stylesheet' />
{% endblock %}
{%  block script %}
    <script src="{{ url_for('static', filename='main.js') }}"></script>
    <script type='text/javascript'>

      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
            displayEventTime: false,
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek'
             },
            googleCalendarApiKey: 'AIzaSyBMoj262LWmXNukAlLwtrTbwOLxVtOAoVI',

            events: 'iqbm6tuucbju8upsje18dmpnl4@group.calendar.google.com',

            eventClick: function(arg) {

                window.open(arg.event.url, 'google-calendar-event', 'width=700,height=600');

                arg.jsEvent.preventDefault()
            }


        });

        calendar.render();
        var Timer = setInterval(update, 300000);

        function update() {
            calendar.refetchEvents()

        }
      });

    </script>
{% endblock %}

{% block content %}

  <div id='calendar'></div>

{% endblock %}